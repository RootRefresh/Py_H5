{% extends "base.html" %}

{% block styles %}
    {{super()}}
<style>
    .thumbnail{box-shadow:1px 1px 3px  #DEDEDE;}
    .thumbnail:hover{box-shadow:-1px 3px 5px 3px #c4c4c4;
                     transition: box-shadow 0.3s ease-in-out;
                     }
</style>


{% endblock %}

{% block content %}

    <div class="container">

      <div class="row row-offcanvas row-offcanvas-right">

        <div class="col-xs-12 col-sm-9 col-lg-9">
          <p class="pull-right visible-xs">
            <button type="button" class="btn btn-primary btn-xs" data-toggle="offcanvas">Toggle nav</button>
          </p>

          <div class="jumbotron">

            <h1>Mr.Yang</h1>
              <p>个人技术博客，欢迎大家来交流</p>


          </div>

          <div class="row subText">

              {% for x in articleArray %}

              <div class="col-xs-6 col-lg-4 home_subArticle">
                  <div class="thumbnail">
                    <a href="#">
                          <img id="icon" src="../static/img/ss.png" height="75%" width="100%" alt="">
                    </a>

                    <div class="caption">
                        <span class="label label-success btn">{{x['tag']}}</span>
                        <span class="help-block">{{x['time']}}</span>
                        <h3>{{x['title']}}</h3>
                        <p>{{x['content']}}</p>
                        <p>
                          <a href="/article" class="btn btn-primary" role="button">阅读全文</a>
                        </p>
                    </div>
                  </div>

              </div>


              {% endfor %}

          </div><!--/row-->

            <div class="col-lg-offset-4 col-sm-offset-4 col-xs-offset-4 col-xs-6 col-sm-6 col-lg-6" id="callBackPager"></div>
        </div><!--/.col-xs-12.col-sm-9-->


         <!--<div class="col-xs-3 col-sm-3 col-lg-3 sidebar-offcanvas" id="sidebar">-->
             <!--<div class="sidebar-module sidebar-module-inset">-->
            <!--<h4>About</h4>-->
            <!--<p>Etiam porta <em>sem malesuada magna</em> mollis euismod. Cras mattis consectetur purus sit amet fermentum. Aenean lacinia bibendum nulla sed consectetur.</p>-->
          <!--</div>-->

          <div class="sidebar-module">
            <h4>分类</h4>

              <a class="btn btn-primary category" href="#"><span class="cc">算法</span>&nbsp&nbsp&nbsp<span class="badge">4</span></a>
              <a class="btn btn-primary category" href="#"><span class="cc">iOS</span>&nbsp&nbsp&nbsp<span class="badge">20</span></a><hr class="type_hr">
              <a class="btn btn-primary category" href="#"><span class="cc">Python</span>&nbsp&nbsp&nbsp<span class="badge">3</span></a>
              <a class="btn btn-primary category" href="#"><span class="cc">项目管理</span>&nbsp&nbsp&nbsp<span class="badge">3</span></a><hr class="type_hr">
              <a class="btn btn-primary category" href="#"><span class="cc">JS</span>&nbsp&nbsp&nbsp<span class="badge">1</span></a>
              <a class="btn btn-primary category" href="#"><span class="cc">H5</span>&nbsp&nbsp&nbsp<span class="badge">0</span></a><hr class="type_hr">

          </div>


        </div><!--/.sidebar-offcanvas-->



      </div><!--/row-->

      <hr>

      <footer>
        <p>&copy; Company 2014</p>
      </footer>

    </div><!--/.container-->

{% endblock %}

{% block scripts %}
    {{ super() }}
    <script src="../static/js/extendPagination.js"></script>

    <script>

        $('.category').click(function (){
            var str = $(this).children('.cc').text();

            requestTag(str);
        });

        function requestTag(mTag){

            $.get('/queryTag/'+mTag,function(d){

                var data = $.parseJSON(d);

                var mainObj = $('.subText');

                mainObj.empty();

                for(var i= 0; i< data.length;i++){
                     mainObj.append('<div class="col-xs-6 col-lg-4">'+
                        '<div class="thumbnail">'+
                        '<div class="caption"><span class="label label-success btn">'+data[i].tag+'</span><span class="help-block">'+data[i].time+'</span>'+
                         '<h3>'+data[i].title+'</h3>'+
                        '<p>'+data[i].content+'</p>'+
                         '<p> <a href="/article" class="btn btn-primary" role="button">阅读全文</a></p>'+
                        '</div></div></div>');

                }

            });
        }



        $('.category').css({
            "margin": "10px,50px,5px,100px"
        });

        $('.type_hr').css({
            "margin": "5px,0px,5px,0px",
            "border": "0",
            "height": "0px"
        });


        <!--$('.list-group .list-group-item').css('border:0px);-->


        $('#callBackPager').extendPagination({
          totalCount:20,
          showCount:3,
          limit:6,
          callback:function(curr,limit,total){
              createTable(curr,limit,total);
          }
         });

        function createTable(currPage, limit, total) {




        var arr = [], showNum = limit;

            if (total - (currPage * limit) < 0) showNum = total - ((currPage - 1) * limit);

            var mainObj = $('.subText');

            mainObj.empty();


            <!--for (var i = 1; i <= showNum; i++) {-->

               <!--mainObj.append('<iframe src="home_subArticle.html .subArticle"></iframe>');-->



                    <!--subHtml += '<div class="col-xs-6 col-lg-4">'+-->
                    <!--'<div class="thumbnail">'+-->
        <!--'<a href="#"><img id="icon" src="../static/img/b.png" height="30%" width="100%" alt=""></a>'+-->
        <!--'<div class="caption"><span class="label label-success btn">Python</span><span class="help-block">2017.8.22</span>'+-->
          <!--'<h3>Thumbnail label</h3>'+-->
          <!--'<p>Donec id elit non mi porta gravida at eget metus. F</p>'+-->
          <!--'<p> <a href="/article" class="btn btn-primary" role="button">阅读全文</a></p>'+-->
        <!--'</div></div></div>'-->

                    <!--mainObj.html(subHtml);-->

                    <!--$('.subText').append('<div class="col-xs-6 col-lg-4">'+-->
                    <!--'<div class="thumbnail">'+-->
        <!--'<a href="#"><img id="icon" src="../static/img/b.png" height="30%" width="100%" alt=""></a>'+-->
        <!--'<div class="caption"><span class="label label-success btn">Python</span><span class="help-block">2017.8.22</span>'+-->
          <!--'<h3>Thumbnail label</h3>'+-->
          <!--'<p>Donec id elit non mi porta gravida at eget metus. F</p>'+-->
          <!--'<p> <a href="/article" class="btn btn-primary" role="button">阅读全文</a></p>'+-->
        <!--'</div></div></div>');-->

            <!--}-->


            $.get('/queryArticle',{id:'123'},function(d){
                 console.log(data);
                var data = $.parseJSON(d);

            for(var i = 0; i < data.length; i++){
                 if(i%2 == 0){

                  $('.subText').append('<div class="col-xs-6 col-lg-4">'+
                    '<div class="thumbnail">'+
                     '<a href="#"><img id="icon" src="../static/img/b.png" height="15%" width="100%" alt=""></a>'+
                    '<div class="caption"><span class="label label-success btn">'+data[i].tag+'</span><span class="help-block">'+data[i].time+'</span>'+
                     '<h3>'+data[i].title+'</h3>'+
                    '<p>'+data[i].content+'</p>'+
                     '<p> <a href="/article" class="btn btn-primary" role="button">阅读全文</a></p>'+
                    '</div></div></div>');
                 }else{
                     $('.subText').append('<div class="col-xs-6 col-lg-4">'+
                    '<div class="thumbnail">'+
                    '<div class="caption"><span class="label label-success btn">'+data[i].tag+'</span><span class="help-block">'+data[i].time+'</span>'+
                     '<h3>'+data[i].title+'</h3>'+
                    '<p>'+data[i].content+'</p>'+
                     '<p> <a href="/article" class="btn btn-primary" role="button">阅读全文</a></p>'+
                    '</div></div></div>');

                 }

            }

        });

    }


    </script>
    <!--<script src="offcanvas.js"></script>-->
{% endblock %}